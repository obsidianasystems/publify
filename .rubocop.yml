# Default style guide 'https://github.com/bbatsov/ruby-style-guide'.

AllCops:
  Exclude:
  - 'bin/**/*'
  - 'config/**/*'
  - 'db/**/*'
  - 'tmp/**/*'
  - 'vendor/**/*'

  # Include Rails cops
  RunRailsCops: true

# Allow if (foo = get_foo) style
Lint/AssignmentInCondition:
  AllowSafeAssignment: true

# Documenting all classes is not common in Rails projects.
Style/Documentation:
  Enabled: false

# Provides more information, while still being displayable in modern wide-screen.
# TODO: Re-enable once linelength has been fixed everywhere.
# Metrics/LineLength:
#   Max: 120

# Allow the use of 'and' 'or' in control structures.
Style/AndOr:
  EnforcedStyle: conditionals

# Allow multiple Hash parameters to look similar
Style/BracesAroundHashParameters:
  EnforcedStyle: context_dependent

Style/ClassAndModuleChildren:
  Enabled: false

Style/CollectionMethods:
  Enabled: true

# Place . on the previous line
Style/DotPosition:
  EnforcedStyle: trailing

# Do not use unnecessary spacing.
Style/ExtraSpacing:
  Enabled: true

# Allows format strings with: format, sprintf or percent.
Style/FormatString:
  Enabled: false

# Multi-line operations should be simply indented. Aligning them makes it even
# harder to keep a sane line length.
Style/MultilineOperationIndentation:
  EnforcedStyle: indented

# FIXME: Clean up the excluded files
Style/RescueModifier:
  Exclude:
  - lib/spam_protection.rb
  - app/controllers/admin/dashboard_controller.rb

# Always use raise to raise exceptions
Style/SignalException:
  EnforcedStyle: only_raise

inherit_from: .rubocop_todo.yml
